import{_ as u,X as p,Y as g,Z as e,$ as t,a1 as n,a2 as s,a0 as c,C as d}from"./framework-ea1ea870.js";const h={},b=c(`<h1 id="ihub-settings" tabindex="-1"><a class="header-anchor" href="#ihub-settings" aria-hidden="true">#</a> ihub-settings</h1><div class="hint-container info"><p class="hint-container-title">插件说明</p><p><code>ihub-settings</code>插件用于配置插件仓库、插件版本以及子项目管理，配置与<code>settings.gradle</code>。</p></div><table><thead><tr><th>插件ID</th><th>插件名称</th><th>插件类型</th><th>扩展名称</th></tr></thead><tbody><tr><td><code>pub.ihub.plugin.ihub-settings</code></td><td><code>设置插件</code></td><td><code>Settings</code><sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup></td><td><code>iHubSettings</code></td></tr></tbody></table><h2 id="扩展属性" tabindex="-1"><a class="header-anchor" href="#扩展属性" aria-hidden="true">#</a> 扩展属性</h2><h3 id="dsl扩展配置支持配置" tabindex="-1"><a class="header-anchor" href="#dsl扩展配置支持配置" aria-hidden="true">#</a> DSL扩展配置支持配置</h3><table><thead><tr><th>扩展方法</th><th>扩展描述</th></tr></thead><tbody><tr><td><code>includeProjects</code></td><td>添加项目（支持多个项目）</td></tr><tr><td><code>prefix</code></td><td>项目前缀（默认<code>主项目名称-</code>）</td></tr><tr><td><code>noPrefix</code></td><td>无项目前缀</td></tr><tr><td><code>suffix</code></td><td>项目后缀</td></tr><tr><td><code>subproject</code></td><td>包含三级子项目</td></tr><tr><td><code>onlySubproject</code></td><td>仅含三级子项目（不含当前项目，三级项目为<code>主项目</code>的子项目）</td></tr><tr><td><code>skippedDirs</code></td><td>忽略三级子项目目录</td></tr></tbody></table><h3 id="gradle-properties配置支持属性" tabindex="-1"><a class="header-anchor" href="#gradle-properties配置支持属性" aria-hidden="true">#</a> <code>gradle.properties</code>配置支持属性</h3><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>配置主项目名称</td></tr><tr><td><code>iHubSettings.includeDirs</code></td><td>包含项目路径，多目录“,”分割</td></tr><tr><td><code>iHubSettings.skippedDirs</code></td><td>排除项目路径，多目录“,”分割</td></tr><tr><td><code>iHubSettings.includeBom</code></td><td>用于配置bom组件，包含所有含<a href="iHubPublish">ihub-publish</a>组件的子项目</td></tr></tbody></table><blockquote><p>配置如下：</p></blockquote><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token key attr-name">name</span><span class="token punctuation">=</span><span class="token value attr-value">demo</span>
<span class="token key attr-name">iHubSettings.includeDirs</span><span class="token punctuation">=</span><span class="token value attr-value">rest,service</span>
<span class="token key attr-name">iHubSettings.includeBom</span><span class="token punctuation">=</span><span class="token value attr-value">ihub-bom</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="插件安装" tabindex="-1"><a class="header-anchor" href="#插件安装" aria-hidden="true">#</a> 插件安装</h2>`,11),k=n("div",{class:"language-kotlin line-numbers-mode","data-ext":"kt"},[n("pre",{class:"language-kotlin"},[n("code",null,[s("plugins "),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"id"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"pub.ihub.plugin.ihub-settings"')]),n("span",{class:"token punctuation"},")"),s(" version "),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"1.3.2"')]),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),v=n("div",{class:"language-groovy line-numbers-mode","data-ext":"groovy"},[n("pre",{class:"language-groovy"},[n("code",null,[s("plugins "),n("span",{class:"token punctuation"},"{"),s(`
    id `),n("span",{class:"token string"},"'pub.ihub.plugin.ihub-settings'"),s(" version "),n("span",{class:"token string"},"'1.3.2'"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),m=c(`<h2 id="配置示例" tabindex="-1"><a class="header-anchor" href="#配置示例" aria-hidden="true">#</a> 配置示例</h2><h3 id="配置子项目" tabindex="-1"><a class="header-anchor" href="#配置子项目" aria-hidden="true">#</a> 配置子项目</h3><ul><li>目录结构：</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>+---rest
+---sdk
\\---service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>配置：</li></ul>`,5),_=n("div",{class:"language-kotlin line-numbers-mode","data-ext":"kt"},[n("pre",{class:"language-kotlin"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(" pub"),n("span",{class:"token punctuation"},"."),s("ihub"),n("span",{class:"token punctuation"},"."),s("plugin"),n("span",{class:"token punctuation"},"."),s(`IHubSettingsExtension

configure`),n("span",{class:"token operator"},"<"),s("IHubSettingsExtension"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"includeProjects"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"rest"')]),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"sdk"')]),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"service"')]),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),f=n("div",{class:"language-groovy line-numbers-mode","data-ext":"groovy"},[n("pre",{class:"language-groovy"},[n("code",null,[s("iHubSettings "),n("span",{class:"token punctuation"},"{"),s(`
    includeProjects `),n("span",{class:"token string"},"'rest'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'sdk'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'service'"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),x=c(`<h3 id="配置三级子项目" tabindex="-1"><a class="header-anchor" href="#配置三级子项目" aria-hidden="true">#</a> 配置三级子项目</h3><ul><li>目录结构：</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>+---rest
+---service
+---test
\\---other
    +---a
    +---b
    \\---c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>配置：</li></ul>`,4),y=n("div",{class:"language-kotlin line-numbers-mode","data-ext":"kt"},[n("pre",{class:"language-kotlin"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(" pub"),n("span",{class:"token punctuation"},"."),s("ihub"),n("span",{class:"token punctuation"},"."),s("plugin"),n("span",{class:"token punctuation"},"."),s(`IHubSettingsExtension

configure`),n("span",{class:"token operator"},"<"),s("IHubSettingsExtension"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"includeProjects"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"rest"')]),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"service"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"suffix"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"-suffix"')]),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token function"},"includeProjects"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"test"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s(`noPrefix
    `),n("span",{class:"token function"},"includeProjects"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"other"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"prefix"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"prefix-"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"skippedDirs"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"c"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s(`subproject
    `),n("span",{class:"token function"},"includeProjects"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"subproject"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"prefix"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"prefix-"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"suffix"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"-suffix"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s(`onlySubproject
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),S=n("div",{class:"language-groovy line-numbers-mode","data-ext":"groovy"},[n("pre",{class:"language-groovy"},[n("code",null,[s("iHubSettings "),n("span",{class:"token punctuation"},"{"),s(`
    includeProjects `),n("span",{class:"token string"},"'rest'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'service'"),s(" suffix "),n("span",{class:"token string"},"'-suffix'"),s(`
    includeProjects `),n("span",{class:"token string"},"'test'"),s(` noPrefix
    includeProjects `),n("span",{class:"token string"},"'other'"),s(" prefix "),n("span",{class:"token string"},"'prefix-'"),s(" skippedDirs "),n("span",{class:"token string"},"'c'"),s(` subproject
    includeProjects `),n("span",{class:"token string"},"'subproject'"),s(" prefix "),n("span",{class:"token string"},"'prefix-'"),s(" suffix "),n("span",{class:"token string"},"'-suffix'"),s(` onlySubproject
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),j=c('<div class="hint-container warning"><p class="hint-container-title">注意</p><p>插件默认排除了常见非项目目录，<code>build</code>, <code>src</code>, <code>conf</code>, <code>libs</code>, <code>logs</code>, <code>docs</code>, <code>classes</code>, <code>target</code>, <code>out</code>, <code>node_modules</code>, <code>db</code>, <code>gradle</code></p></div><h2 id="默认插件仓库" tabindex="-1"><a class="header-anchor" href="#默认插件仓库" aria-hidden="true">#</a> 默认插件仓库</h2><p>私有仓库、自定义仓库配置参见<a href="iHub#%E6%89%A9%E5%B1%95%E5%B1%9E%E6%80%A7">扩展属性</a></p>',3),P=n("thead",null,[n("tr",null,[n("th",null,"Name"),n("th",null,"Description"),n("th",null,"Url")])],-1),H=n("tr",null,[n("td",null,[n("code",null,"ProjectDirs")]),n("td",null,"项目本地插件"),n("td",null,[n("code",null,"{rootProject.projectDir}/gradle/plugins")])],-1),D=n("td",null,[n("code",null,"SpringRelease")],-1),E=n("td",null,"Spring Release仓库",-1),A={href:"https://repo.spring.io/release",target:"_blank",rel:"noopener noreferrer"},C=n("td",null,[n("code",null,"ReleaseRepo")],-1),I=n("td",null,"私有Release仓库",-1),R={href:"https://repo.xxx.com/release",target:"_blank",rel:"noopener noreferrer"},B=n("td",null,[n("code",null,"SnapshotRepo")],-1),L=n("td",null,"私有Snapshot仓库",-1),V={href:"https://repo.xxx.com/snapshot",target:"_blank",rel:"noopener noreferrer"},N=n("td",null,[n("code",null,"CustomizeRepo")],-1),q=n("td",null,"自定义仓库仓库",-1),w={href:"https://repo.xxx.com/repo",target:"_blank",rel:"noopener noreferrer"},G=n("h2",{id:"默认版本",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#默认版本","aria-hidden":"true"},"#"),s(" 默认版本")],-1),K=n("p",null,[s("插件配置了"),n("code",null,"ihub系列插件"),s("及以下插件默认版本：")],-1),T=n("thead",null,[n("tr",null,[n("th",null,"Plugin"),n("th",null,"Version")])],-1),z=n("td",null,[n("code",null,"com.gradle.plugin-publish")],-1),$={href:"https://plugins.gradle.org/plugin/com.gradle.plugin-publish",target:"_blank",rel:"noopener noreferrer"},M=n("td",null,[n("code",null,"pub.ihub.plugin.*")],-1),U={href:"https://plugins.gradle.org/plugin/pub.ihub.plugin",target:"_blank",rel:"noopener noreferrer"},X=n("p",null,"使用插件时可以不用加版本号，配置如下：",-1),Y=n("div",{class:"language-kotlin line-numbers-mode","data-ext":"kt"},[n("pre",{class:"language-kotlin"},[n("code",null,[s("plugins "),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"id"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"pub.ihub.plugin"')]),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token function"},"id"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"com.gradle.plugin-publish"')]),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Z=n("div",{class:"language-groovy line-numbers-mode","data-ext":"groovy"},[n("pre",{class:"language-groovy"},[n("code",null,[s("plugins "),n("span",{class:"token punctuation"},"{"),s(`
    id `),n("span",{class:"token string"},"'pub.ihub.plugin'"),s(`
    id `),n("span",{class:"token string"},"'com.gradle.plugin-publish'"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),F=c(`<h2 id="配置catalog" tabindex="-1"><a class="header-anchor" href="#配置catalog" aria-hidden="true">#</a> 配置catalog</h2><p>配置默认版本目录组件<code>ihubLibs</code></p><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>dependencyResolutionManagement <span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
        <span class="token function">mavenCentral</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    versionCatalogs <span class="token punctuation">{</span>
        ihubLibs <span class="token punctuation">{</span>
            from <span class="token interpolation-string"><span class="token string">&quot;pub.ihub.lib:ihub-libs:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">IHubLibsVersion<span class="token punctuation">.</span>version</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr class="footnotes-sep">`,4),J={class:"footnotes"},O={class:"footnotes-list"},Q={id:"footnote1",class:"footnote-item"},W=n("code",null,"Settings",-1),nn=n("code",null,"settings.gradle",-1),sn={href:"https://docs.gradle.org/current/dsl/org.gradle.api.initialization.Settings.html",target:"_blank",rel:"noopener noreferrer"},en=n("a",{href:"#footnote-ref1",class:"footnote-backref"},"↩︎",-1);function tn(an,ln){const r=d("CodeTabs"),a=d("ExternalLinkIcon");return p(),g("div",null,[b,e(r,{id:"177",data:[{title:"Kotlin"},{title:"Groovy"}],"tab-id":"build"},{tab0:t(({title:i,value:l,isActive:o})=>[k]),tab1:t(({title:i,value:l,isActive:o})=>[v]),_:1}),m,e(r,{id:"207",data:[{title:"Kotlin"},{title:"Groovy"}],"tab-id":"build"},{tab0:t(({title:i,value:l,isActive:o})=>[_]),tab1:t(({title:i,value:l,isActive:o})=>[f]),_:1}),x,e(r,{id:"233",data:[{title:"Kotlin"},{title:"Groovy"}],"tab-id":"build"},{tab0:t(({title:i,value:l,isActive:o})=>[y]),tab1:t(({title:i,value:l,isActive:o})=>[S]),_:1}),j,n("table",null,[P,n("tbody",null,[H,n("tr",null,[D,E,n("td",null,[n("a",A,[s("https://repo.spring.io/release"),e(a)])])]),n("tr",null,[C,I,n("td",null,[n("a",R,[s("https://repo.xxx.com/release"),e(a)])])]),n("tr",null,[B,L,n("td",null,[n("a",V,[s("https://repo.xxx.com/snapshot"),e(a)])])]),n("tr",null,[N,q,n("td",null,[n("a",w,[s("https://repo.xxx.com/repo"),e(a)])])])])]),G,K,n("table",null,[T,n("tbody",null,[n("tr",null,[z,n("td",null,[n("a",$,[s("1.2.0"),e(a)])])]),n("tr",null,[M,n("td",null,[n("a",U,[s("1.3.2"),e(a)])])])])]),X,e(r,{id:"363",data:[{title:"Kotlin"},{title:"Groovy"}],"tab-id":"build"},{tab0:t(({title:i,value:l,isActive:o})=>[Y]),tab1:t(({title:i,value:l,isActive:o})=>[Z]),_:1}),F,n("section",J,[n("ol",O,[n("li",Q,[n("p",null,[W,s("：配置类型插件，配置与"),nn,s("文件，类型说明"),n("a",sn,[s("详见"),e(a)]),s(),en])])])])])}const cn=u(h,[["render",tn],["__file","iHubSettings.html.vue"]]);export{cn as default};
